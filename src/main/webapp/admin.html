<!DOCTYPE html>
<html lang="en" ng-app="app">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <title>Blog - Administrator</title>
        <link rel="icon" href="img/games-icon.png">

        <!-- Bootstrap -->
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/mike.css" rel="stylesheet">

    </head>
    <body style="padding-bottom: 100px" ng-controller="dbController">

        <nav class="navbar navbar-fixed-top navbar-inverse sticky">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <img id="logo" src="img/games-icon.png">
                </div>
                <div id="navbar" class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li><a href="index.html"><span class="glyphicon glyphicon-home"></span></a></li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Categorie <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li ng-repeat="x in categoria">
                                    <a href="categoria.html">{{x.nome}}</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <form>
                                <button href="#" type="button" class="btn btn-danger" id="loginBtn">Esci</button>
                            </form>
                        </li>
                    </ul>
                </div><!-- /.nav-collapse -->
            </div><!-- /.container -->
        </nav><!-- /.navbar -->

        <div class="container">


            <h4 class="text-center" style="margin-top: 100px">Amministrazione</h4>

            <div class="row">
                <div class="panel panel-success" style="margin-top: 40px">
                    <div class="panel-heading">
                        <h3 class="panel-title">Gestione Categorie</h3>
                    </div>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Categoria</th>
                                <th><button type="button" class="btn btn-success pull-right" data-toggle="modal" data-target="#nuovacategoria">Nuova</button></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="x in categoria">
                                <td>{{x.nome}}</td>
                                <td><button type="button" class="btn btn-danger btn-sm pull-right" data-toggle="modal" data-target="#eliminacategoria"><span class="glyphicon glyphicon-trash"></span></button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>


            <div class="modal fade" id="nuovacategoria" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">Crea Categoria</h4>
                        </div>
                        <div class="modal-body">
                            <form>
                                <input type="text" class="form-control"/>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-success">Crea</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="modal fade" id="eliminacategoria" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">Elimina Categoria</h4>
                        </div>
                        <div class="modal-body">
                            <hr/>
                                <h4>Sei sicuro di voler eliminare questa categoria?</h4>
                            <h4>***Nome Categoria***</h4>
                            <hr/>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger" data-dismiss="modal">No</button>
                            <button type="button" class="btn btn-success">Si</button>
                        </div>
                    </div>
                </div>
            </div>



            <div class="row">
                <div class="panel panel-success" style="margin-top: 20px">
                    <div class="panel-heading">
                        <div class="panel-title">Gestione Tag<button type="button" class="btn btn-success pull-right" data-toggle="modal" data-target="#nuovotag">Nuovo</button>
                        </div>
                        <div class="panel-body">
                            <p><b>Tutti i tag presenti:</b></p><p ng-repeat="t in tag">{{t.nome}}</p>
                        </div>
                    </div>
                </div>
            </div>


            <div class="modal fade" id="nuovotag" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">Crea Tag</h4>
                        </div>
                        <div class="modal-body">
                            <form>
                                <input type="text" class="form-control"/>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-success">Crea</button>
                        </div>
                    </div>
                </div>
            </div>



            <div class="row">
                <div class="panel panel-success" style="margin-top: 20px">
                    <div class="panel-heading">
                        <div class="panel-title">Gestione Post
                        </div>
                        <div>
                            <p>Post in attesa di approvazione:</p>
                        </div>
                    </div>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Titolo del Post</th>
                                <th>ID Autore</th>
                                <th>Data Richiesta</th>
                                <th>ID Categoria</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="p in post">
                                <td>{{p.titolo}}</td>
                                <td>{{p.autore}}</td>
                                <td>{{p.dataAsString}}</td>
                                <td>{{p.id_Categoria}}</td>
                                <td><button type="button" class="btn btn-primary btn-xs pull-right" data-toggle="modal" data-target="#anteprima">Visualizza</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Modal -->
                <div class="modal fade" id="anteprima" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                <h4 class="modal-title" id="myModalLabel">Dettaglio Post</h4>
                            </div>
                            <div class="modal-body">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h3 class="panel-title">Titolo Post</h3>
                                    </div>
                                    <div class="panel-body">
                                        <div class="col-md-2">
                                            <img class="img-responsive" src="http://via.placeholder.com/300x200"/>
                                        </div>
                                        <div class="col-md-10">
                                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam porta lacus a arcu malesuada maximus. Donec ut auctor lacus. Aenean vel metus ac diam pellentesque imperdiet rutrum non enim. Nam nec diam id est mattis semper. Nam eleifend consectetur lacus, ac condimentum nulla finibus vitae. Etiam rhoncus nisl sit amet iaculis porta. Suspendisse ullamcorper risus turpis, vel tempor arcu porttitor at. In nec volutpat nulla, ac lacinia nisl. Maecenas interdum efficitur commodo. Suspendisse ultricies congue nulla eget vehicula. Nulla facilisi. Sed finibus nisi non semper maximus. Vivamus vehicula dictum ex scelerisque commodo. In sodales, eros vitae viverra feugiat, lectus nisl cursus lectus, sit amet pulvinar risus elit sed nisi. Ut accumsan arcu sed augue gravida laoreet. Vestibulum laoreet ut leo id rhoncus. Suspendisse ac auctor lectus, eu euismod urna. Suspendisse pharetra neque vel turpis efficitur, vel tempor quam aliquam. Donec varius imperdiet erat, id scelerisque ligula sollicitudin non. Mauris sollicitudin viverra massa, vitae commodo lorem suscipit non. Fusce ultricies lectus sed tortor luctus, et aliquam ex ullamcorper. Donec ut enim vel ante egestas blandit eget rhoncus velit. Pellentesque convallis maximus aliquet.</p>
                                        </div>
                                        <hr/>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-danger">Elimina</button>
                                    <button type="button" class="btn btn-success">Pubblica</button>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>


            </div>

        </div> <!--************* END-CONTAINER *************-->


        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="js/bootstrap.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <script src="app/controller/db_controller.js"></script>
    </body>
</html>